#!/bin/sh

prefix=$1

## remove files from a previous run
rm -f $prefix.0.*.txt
rm -f $prefix.1.*.txt
rm -f $prefix.2.*.txt
rm -f $prefix.3.*.txt
rm -f $prefix.4.*.txt
rm -f $prefix.5.*.txt
rm -f $prefix.10.*.txt
rm -f $prefix.20.*.txt
rm -f $prefix.30.*.txt
rm -f $prefix.40.*.txt
rm -f $prefix.50.*.txt
rm -f $prefix.60.*.txt
rm -f $prefix.70.*.txt
rm -f $prefix.80.*.txt

## post-process with a range of minsup, minsize, minlen
java -server -cp "build/install/fr/lib/*" org.ncgr.pangenomics.fr.FRFinder --debug --inputprefix $prefix --minsup 0   --minsize 0 --minlen 0
java -server -cp "build/install/fr/lib/*" org.ncgr.pangenomics.fr.FRFinder --debug --inputprefix $prefix --minsup 20  --minsize 1 --minlen 1
java -server -cp "build/install/fr/lib/*" org.ncgr.pangenomics.fr.FRFinder --debug --inputprefix $prefix --minsup 40  --minsize 1 --minlen 1
java -server -cp "build/install/fr/lib/*" org.ncgr.pangenomics.fr.FRFinder --debug --inputprefix $prefix --minsup 130 --minsize 1 --minlen 1

## run SVM on the above
./run-svm $prefix 0   0 0
./run-svm $prefix 20  1 1
./run-svm $prefix 40  1 1
./run-svm $prefix 130 1 1
